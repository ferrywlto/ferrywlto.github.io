---
import { Image } from 'astro:assets';
import placeholderImg from '/public/blog-placeholder-2.jpg';

export interface Props {
  src?: string | ImageMetadata;
  alt: string;
  class?: string;
}

const { src, alt, class: className = '' } = Astro.props;
---

<div class={`hero-image ${className}`}>
  {
    src ? (
      typeof src === "string" ?
        // For remote image with URL string
        (<Image inferSize src={src} alt={alt} />) :
        // For local image with ImageMetadata
        (<Image src={src} alt={alt} />)
    ) : (
      <Image src={placeholderImg} alt="" />
    )
  }
</div>

<style>
  .hero-image {
    margin-bottom: var(--gap-lg);
  }

  .hero-image img {
    display: flex;
    width: 100%;
    height: auto;
    border-radius: var(--corner-md);
    box-sizing: border-box;
    object-fit: contain;
    box-shadow: var(--photo-box-shadow);
  }
</style>
