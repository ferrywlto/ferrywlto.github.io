---
import type { ImageMetadata } from 'astro';
import FormattedDate from './FormattedDate.astro';
import HeroImage from './HeroImage.astro';

export interface Props {
  id: string;
  title: string;
  description: string;
  pubDate: Date;
  heroImage?: string | ImageMetadata;
  linkPrefix?: string;
}

const { id, title, description, pubDate, heroImage, linkPrefix } = Astro.props;
---

<div class="post-preview">
  <a href={`/${linkPrefix}/${id}/`}>
    <HeroImage
      src={heroImage}
      alt={description}
    />
    <h2 class="text-item-title">{title}</h2>
    <p class="text-meta">
      <FormattedDate date={pubDate} />
    </p>
  </a>
</div>

<style>
  .post-preview {
    width: 100%;
  }

  .post-preview a {
    display: block;
    text-decoration: none;
    color: inherit;
  }

  .post-preview a:hover {
    text-decoration: none;
  }
</style>
