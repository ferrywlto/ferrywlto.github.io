---
import HeaderLink from "./HeaderLink.astro";
import CloseButton from "./CloseButton.astro";
import ThemeToggle from "./ThemeToggle.astro";
---

<div
  class="drawer-overlay"
  x-show="open"
  x-on:click="open = false"
>
</div>
<div
  class="drawer"
  x-show="open"
>
  <div class="drawer-header">
    <ThemeToggle />
    <HeaderLink href="/">ferrywl.to</HeaderLink>
    <!-- <h2 class="text-item-title">ferrywl.to</h2> -->
    <CloseButton onClick="open = false" ariaLabel="Close menu" />
  </div>
  <nav class="drawer-nav">
    <div class="nav-item"><HeaderLink href="/">ğŸŒ Home</HeaderLink></div>
    <div class="nav-item"><HeaderLink href="/blog">ğŸ“ Blog</HeaderLink></div>
    <div class="nav-item"><HeaderLink href="/blog">ğŸ““ Diary</HeaderLink></div>
    <div class="nav-item"><HeaderLink href="/whispers">ğŸ’¬ Quotes</HeaderLink></div>
    <div class="nav-item"><HeaderLink href="/projects">ğŸš€ Projects</HeaderLink></div>
    <div class="nav-item"><HeaderLink href="/about">ğŸ‘¨ğŸ»â€ğŸ’» About</HeaderLink></div>
  </nav>
</div>

<style>
  @import "../styles/theme.css";
  @import "../styles/spacing.css";
  @import "../styles/effect.css";
  @import "../styles/typography.css";

  @media screen and (max-width: 1024px) {
    .drawer-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: color-mix(in srgb, var(--color-shadow) 10%, transparent);
      backdrop-filter: blur(8px) brightness(0.8);
      -webkit-backdrop-filter: blur(8px) brightness(0.8);
      z-index: 998;
      cursor: pointer;
    }

    .drawer {
      position: fixed;
      top: 0;
      left: 0;
      width: 50%;
      height: 100vh;
      background: var(--color-bg);
      z-index: 999;
      display: flex;
      flex-direction: column;
      animation: slideInFromLeft 0.3s ease-out;
    }

    .drawer[x-show="false"] {
      animation: slideOutToLeft 0.3s ease-in;
    }

    @keyframes slideInFromLeft {
      from {
        transform: translateX(-100%);
      }
      to {
        transform: translateX(0);
      }
    }

    @keyframes slideOutToLeft {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(-100%);
      }
    }

    .close-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2rem;
      height: 2rem;
      cursor: pointer;
      border-radius: var(--corner-sm);
      background: transparent;
      color: var(--color-text);
      font-size: 1.2rem;
      transition: background-color 0.2s ease;
    }

    .close-button:hover {
      background: var(--color-hover);
    }

    .drawer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--color-surface);
      padding: var(--gap-lg);
      box-shadow: var(--shadow-drawer);
      box-sizing: border-box;
      height: 4rem;

      border-bottom: 1px solid var(--color-shadow);
    }

    .drawer-nav {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      /* gap: var(--gap-xl); */

      box-sizing: border-box;
      background-color: var(--color-bg);
    }

    .nav-item {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      width: 100%;
      padding: var(--gap-lg);
      box-sizing: border-box;
      border-bottom: 1px solid var(--color-shadow);
    }
  }
</style>
